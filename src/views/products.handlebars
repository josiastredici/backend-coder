<div class="container">
    <h1>{{title}}</h1>
    
    
    <div class="filters">
        <form method="GET" action="/products">
            <label>Límite:
                <select name="limit">
                    <option value="5">5</option>
                    <option value="10" selected>10</option>
                    <option value="20">20</option>
                </select>
            </label>

            <label>Ordenar por precio:
                <select name="sort">
                    <option value="">Sin orden</option>
                    <option value="asc">Ascendente</option>
                    <option value="desc">Descendente</option>
                </select>
            </label>

            <label>Categoría:
                <input type="text" name="query" placeholder="Ej: electronics">
            </label>

            <button type="submit">Filtrar</button>
        </form>
    </div>

    <!-- Lista de productos -->
    <div class="products-grid">
        {{#each products}}
        <div class="product-card">
            <h3>{{this.title}}</h3>
            <p>{{this.description}}</p>
            <p><strong>Precio: ${{this.price}}</strong></p>
            <p>Stock: {{this.stock}}</p>
            <p>Categoría: {{this.category}}</p>
            <p>Estado: {{#if this.status}}Disponible{{else}}No disponible{{/if}}</p>
            
            <div class="product-actions">
                <a href="/products/{{this._id}}" class="btn btn-info">Ver detalle</a>
                <button onclick="addToCart('{{this._id}}')" class="btn btn-primary">Agregar al carrito</button>
            </div>
        </div>
        {{/each}}
    </div>

    <!-- Paginación -->
    <div class="pagination">
        {{#if pagination.hasPrevPage}}
            <a href="{{pagination.prevLink}}" class="btn">← Anterior</a>
        {{/if}}
        
        <span>Página {{pagination.page}} de {{pagination.totalPages}}</span>
        
        {{#if pagination.hasNextPage}}
            <a href="{{pagination.nextLink}}" class="btn">Siguiente →</a>
        {{/if}}
    </div>
</div>

<style>
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .filters {
        background: #f5f5f5;
        padding: 20px;
        margin-bottom: 30px;
        border-radius: 8px;
    }

    .filters form {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        align-items: end;
    }

    .filters label {
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .product-card {
        border: 1px solid #ddd;
        padding: 20px;
        border-radius: 8px;
        background: white;
    }

    .product-card h3 {
        margin-top: 0;
        color: #333;
    }

    .product-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .btn {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        text-align: center;
    }

    .btn-primary {
        background: #007bff;
        color: white;
    }

    .btn-info {
        background: #17a2b8;
        color: white;
    }

    .btn:hover {
        opacity: 0.8;
    }

    .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-top: 30px;
    }
</style>

<script>
    function addToCart(productId) {
       
        alert('Producto agregado al carrito: ' + productId);
        
        
    }
</script>